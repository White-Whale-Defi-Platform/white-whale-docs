# Common Types

The common types are the data structures that are used across the White Whale contracts, and these can be found on the 
[white-whale-std crate](https://crates.io/crates/white-whale-std).

The following is a list of these common types exposed via the API, even though there might be few more that are used
internally by the contracts that are not exposed.

todo

| Struct               | Description                                                     | Contains                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|----------------------|-----------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `Asset`              | Represents an asset                                             | <ul><li>`info`: `AssetInfo` - asset information</li><li>`amount`: `Uint128` - asset amount</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `Contract`           | Represents a contract, either a Pool or Vault                   | <ul><li>`address`: `String` - contract address</li><li>`contract_type`: `ContractType` - type of the contract, vault or pool</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `Factory`            | Represents a Factory for either Collecting or Querying fees for | <ul><li>`factory_addr`: `String` - factory address</li><li>`factory_type`: `FactoryType` - the type of factory, either pool or vault</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `FeatureToggle`      | Feature toggle for the pair/pool contract                       | <ul><li>`withdrawals_enabled`: `bool` - toggle for withdrawals</li><li>`deposits_enabled`: `bool` - toggle for deposits</li><li>`swaps_enabled`: `bool` - toggle for swaps</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `Fee`                | Represents a fee                                                | <ul><li>`share`: `Decimal` - fee share</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `Flow`               | Represents an incentive flow                                    | <ul> <li>`flow_id`: `u64` - A unique identifier of the flow.</li><li>`flow_label`: `Option<String>` - An alternative flow label.</li> <li>`flow_creator`: `Addr` - The account which opened the flow and can manage it.</li> <li>`flow_asset`: `Asset` - The asset the flow was created to distribute.</li> <li>`claimed_amount`: `Uint128` - The amount of the `flow_asset` that has been claimed so far.</li> <li>`curve`: `Curve` - The type of curve the flow has.</li><li>`start_epoch`: `u64` - The epoch at which the flow starts.</li> <li>`end_epoch`: `u64` - The epoch at which the flow ends.</li><li>`emitted_tokens`: `HashMap<u64, Uint128>` - Map containing emitted tokens.</li><li>`asset_history`: `BTreeMap<u64, (Uint128, u64)>` - Map containing the amount of tokens it was expanded to at a given epoch.</li></ul> |
| `IncentivesContract` | Provides an incentive contract information                      | <ul><li>`incentive_address`: `Addr` - The address of the incentive contract</li><li>`lp_reference`: `Vec<u8>` - A byte-array reference to the LP address</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `PairInfo`           | Defines information about a pair/pool                           | <ul><li>`asset_infos`: `[AssetInfo; 2]` - asset infos within the pool</li><li>`contract_addr`: `String` - pool address</li><li>`liquidity_token`: `String` - LP token address</li><li>`asset_decimals`: `[u8; 2]` - decimals for the assets in the pool</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `PoolFee`            | Fees used by the pool                                           | <ul><li>`protocol_fee`: `Fee` - protocol fees</li><li>`swap_fee`: `Fee` - swap fees</li><li>`burn_fee`: `Fee` - burn fees</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `UpdateConfigParams` | Parameters to update the vault configuration with               | <ul><li>`flash_loan_enabled`: `Option<bool>` - if users should be allowed to perform flash-loans</li><li>`deposit_enabled`: `Option<bool>` - if users should be able to deposit funds to the contract</li><li>`withdraw_enabled`: `Option<bool>` - if users should be able to withdraw funds from the contract</li><li>`new_owner`: `Option<String>` - the new owner of the contract</li><li>`new_vault_fees`: `Option<VaultFee>` - the new fees used for the vault</li><li>`new_fee_collector_addr`: `Option<String>` - the new address of the fee collector</li></ul>                                                                                                                                                                                                                                                                    |
| `VaultFee`           | Fees used by the vault                                          | <ul><li>`protocol_fee`: `Fee` - protocol fees</li><li>`flash_loan_fee`: `Fee` - flash loan fees</li><li>`burn_fee`: `Fee` - burn fees</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `VaultInfo`          | Response for the vaults query                                   | <ul><li>`vault`: `String` - vault address</li><li>`asset_info_reference`: `Vec<u8>` - Asset info reference</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

| Enums            | Description                               | Alternatives                                                                                                                                                                                                                                                       |
|------------------|-------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `AssetInfo`      | Represents asset information              | <ul><li>`Token { contract_addr: String }` - used for cw20 tokens</li><li>`NativeToken { denom: String }` - used for native or IBC tokens</li></ul>                                                                                                                 |
| `CallbackMsg`    | Callback messages for the vault           | <ul><li>`AfterTrade { old_balance: Uint128, loan_balance: Uint128 }` - used for making sure the flash loan is paid back after all operations were executed </li></ul>                                                                                              |
| `CollectFeesFor` | Represents what to collect fees from      | <ul><li>`Contracts { contracts: Vec<Contract> }` - collects the fees accumulated by the given contracts</li><li>`Factory { factory_addr: String, factory_type: FactoryType }` - collects the fees accumulated by the contracts the given factory created</li></ul> |
| `FactoryType`    | Represents the type of factory            | <ul><li>`Vault { start_after: Option<Vec<u8>>, limit: Option<u32> }` - vault factory option, supports pagination</li><li>`Pool { start_after: Option<[AssetInfo; 2]>, limit: Option<u32> }` - pool factory option, supports pagination</li></ul>                   |
| `FlowIdentifier` | A flow identifier                         | <ul><li>`Id(u64)` - flow id</li><li>`Label(String)` - flow label</li></ul>                                                                                                                                                                                         |
| `QueryFeesFor`   | Represents what to query fees from        | <ul><li>`Contracts { contracts: Vec<Contract> }` - specifies list of `Contract`s to query fees for</li><li>`Factory { factory_addr: String, factory_type: FactoryType }` - defines a factory for which to query fees from its children</li></ul>                   |
| `SwapOperation`  | A swap operation, used by the pool router | <ul><li>`TerraSwap { offer_asset_info: AssetInfo, ask_asset_info: AssetInfo }` - terraswap type of operation</li></ul>                                                                                                                                             |